## API Report File for "@datastax/astra-db-ts"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import type TypedEmitter from 'typed-emitter';
import type TypedEventEmitter from 'typed-emitter';

// @public (undocumented)
export const $PrimaryKeyType: unique symbol;

// @public (undocumented)
export const $SerializeRelaxed: unique symbol;

// @public (undocumented)
export const $SerializeStrict: unique symbol;

// @public (undocumented)
export interface AddColumnOperation {
    // (undocumented)
    columns: CreateTableColumnDefinitions;
}

// @public (undocumented)
export interface AddVectorizeOperation<Schema extends SomeRow> {
    // (undocumented)
    columns: Record<Cols<Schema>, VectorizeServiceOptions>;
}

// @public
export type AdminBlockingOptions = PollBlockingOptions | NoBlockingOptions;

// @public
export abstract class AdminCommandEvent extends DataAPIClientEvent {
    // Warning: (ae-forgotten-export) The symbol "DevOpsAPIRequestInfo" needs to be exported by the entry point index.d.ts
    //
    // @internal
    protected constructor(info: DevOpsAPIRequestInfo, longRunning: boolean);
    // (undocumented)
    formatted(): string;
    readonly longRunning: boolean;
    readonly method: 'GET' | 'POST' | 'DELETE';
    readonly params?: Record<string, any>;
    readonly path: string;
    readonly reqBody?: Record<string, any>;
}

// @public
export type AdminCommandEvents = {
    adminCommandStarted: (event: AdminCommandStartedEvent) => void;
    adminCommandPolling: (event: AdminCommandPollingEvent) => void;
    adminCommandSucceeded: (event: AdminCommandSucceededEvent) => void;
    adminCommandFailed: (event: AdminCommandFailedEvent) => void;
    adminCommandWarnings: (event: AdminCommandWarningsEvent) => void;
};

// @public
export class AdminCommandFailedEvent extends AdminCommandEvent {
    // @internal
    constructor(info: DevOpsAPIRequestInfo, longRunning: boolean, error: Error, started: number);
    readonly duration: number;
    readonly error: Error;
    // (undocumented)
    formatted(): string;
}

// @public
export class AdminCommandPollingEvent extends AdminCommandEvent {
    // @internal
    constructor(info: DevOpsAPIRequestInfo, started: number, interval: number);
    readonly elapsed: number;
    // (undocumented)
    formatted(): string;
    readonly interval: number;
}

// @public
export class AdminCommandStartedEvent extends AdminCommandEvent {
    // @internal
    constructor(info: DevOpsAPIRequestInfo, longRunning: boolean, timeout: number);
    // (undocumented)
    formatted(): string;
    readonly timeout: number;
}

// @public
export class AdminCommandSucceededEvent extends AdminCommandEvent {
    // @internal
    constructor(info: DevOpsAPIRequestInfo, longRunning: boolean, data: Record<string, any> | undefined, started: number);
    readonly duration: number;
    // (undocumented)
    formatted(): string;
    readonly resBody?: Record<string, any>;
}

// @public (undocumented)
export class AdminCommandWarningsEvent extends AdminCommandEvent {
    constructor(info: DevOpsAPIRequestInfo, longRunning: boolean, warnings: DataAPIErrorDescriptor[]);
    // (undocumented)
    formatted(): string;
    // (undocumented)
    readonly warnings: DataAPIErrorDescriptor[];
}

// @public
export interface AdminSpawnOptions {
    adminToken?: string | TokenProvider | null;
    endpointUrl?: string;
    // (undocumented)
    logging?: DataAPILoggingConfig;
}

// @public (undocumented)
export interface AlterTableOperations<Schema extends SomeRow> {
    // (undocumented)
    add?: AddColumnOperation;
    // (undocumented)
    addVectorize?: AddVectorizeOperation<Schema>;
    // (undocumented)
    drop?: DropColumnOperation<Schema>;
    // (undocumented)
    dropVectorize?: DropVectorizeOperation<Schema>;
}

// @public (undocumented)
export interface AlterTableOptions<Schema extends SomeRow> extends WithTimeout {
    // (undocumented)
    operation: AlterTableOperations<Schema>;
}

// @public (undocumented)
export type AlterTableSchema<Schema extends SomeRow, Alter extends AlterTableOptions<Schema>> = Normalize<Omit<Schema & Cols2Add<Alter['operation']['add']>, Cols2Drop<Alter['operation']['drop']>>>;

// @public
export interface ArrayFilterOps<Elem> {
    $all?: Elem;
    $size?: number;
}

// Warning: (ae-forgotten-export) The symbol "PickArrayTypes" needs to be exported by the entry point index.d.ts
//
// @public
export type ArrayUpdate<Schema> = {
    [K in keyof Schema as any[] extends Schema[K] ? K : never]?: PickArrayTypes<Schema[K]>;
};

// @public
export class AstraAdmin {
    // Warning: (ae-forgotten-export) The symbol "InternalRootClientOpts" needs to be exported by the entry point index.d.ts
    //
    // @internal
    constructor(rootOpts: InternalRootClientOpts, rawAdminOpts?: AdminSpawnOptions);
    createDatabase(config: DatabaseConfig, options?: CreateDatabaseOptions): Promise<AstraDbAdmin>;
    db(endpoint: string, options?: DbSpawnOptions): Db;
    db(id: string, region: string, options?: DbSpawnOptions): Db;
    dbAdmin(endpoint: string, options?: DbSpawnOptions): AstraDbAdmin;
    dbAdmin(id: string, region: string, options?: DbSpawnOptions): AstraDbAdmin;
    dbInfo(id: string, options?: WithTimeout): Promise<FullDatabaseInfo>;
    dropDatabase(db: Db | string, options?: AdminBlockingOptions): Promise<void>;
    // Warning: (ae-forgotten-export) The symbol "DevOpsAPIHttpClient" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    get _httpClient(): DevOpsAPIHttpClient;
    listDatabases(options?: ListDatabasesOptions): Promise<FullDatabaseInfo[]>;
}

// @public
export class AstraDbAdmin extends DbAdmin {
    // @internal
    constructor(db: Db, rootOpts: InternalRootClientOpts, rawAdminOpts: AdminSpawnOptions | undefined, dbToken: TokenProvider | undefined, endpoint: string);
    createKeyspace(keyspace: string, options?: CreateKeyspaceOptions): Promise<void>;
    db(): Db;
    drop(options?: AdminBlockingOptions): Promise<void>;
    dropKeyspace(keyspace: string, options?: AdminBlockingOptions): Promise<void>;
    findEmbeddingProviders(options?: WithTimeout): Promise<FindEmbeddingProvidersResult>;
    // (undocumented)
    get _httpClient(): DevOpsAPIHttpClient;
    get id(): string;
    info(options?: WithTimeout): Promise<FullDatabaseInfo>;
    listKeyspaces(options?: WithTimeout): Promise<string[]>;
}

// @public
export class AWSEmbeddingHeadersProvider extends EmbeddingHeadersProvider {
    constructor(accessKeyId: string, secretAccessKey: string);
    getHeaders(): Record<string, string>;
}

// @public
export type Caller = readonly [name: string, version?: string];

// @public
export class Collection<Schema extends SomeDoc = SomeDoc> {
    // Warning: (ae-forgotten-export) The symbol "DataAPIHttpClient" needs to be exported by the entry point index.d.ts
    //
    // @internal
    constructor(db: Db, httpClient: DataAPIHttpClient, name: string, opts: CollectionSpawnOptions<Schema> | undefined);
    readonly collectionName: string;
    countDocuments(filter: Filter<Schema>, upperBound: number, options?: WithTimeout): Promise<number>;
    deleteMany(filter: Filter<Schema>, options?: WithTimeout): Promise<CollectionDeleteManyResult>;
    deleteOne(filter: Filter<Schema>, options?: CollectionDeleteOneOptions): Promise<CollectionDeleteOneResult>;
    distinct<Key extends string>(key: Key, filter?: Filter<Schema>): Promise<Flatten<(SomeDoc & ToDotNotation<FoundDoc<Schema>>)[Key]>[]>;
    drop(options?: WithTimeout): Promise<boolean>;
    estimatedDocumentCount(options?: WithTimeout): Promise<number>;
    find(filter: Filter<Schema>, options?: CollectionFindOptions): FindCursor<FoundDoc<Schema>, FoundDoc<Schema>>;
    findOne(filter: Filter<Schema>, options?: CollectionFindOneOptions): Promise<FoundDoc<Schema> | null>;
    findOneAndDelete(filter: Filter<Schema>, options: CollectionFindOneAndDeleteOptions & {
        includeResultMetadata: true;
    }): Promise<CollectionModifyResult<Schema>>;
    findOneAndDelete(filter: Filter<Schema>, options?: CollectionFindOneAndDeleteOptions & {
        includeResultMetadata?: false;
    }): Promise<WithId<Schema> | null>;
    findOneAndReplace(filter: Filter<Schema>, replacement: NoId<Schema>, options: CollectionFindOneAndReplaceOptions & {
        includeResultMetadata: true;
    }): Promise<CollectionModifyResult<Schema>>;
    findOneAndReplace(filter: Filter<Schema>, replacement: NoId<Schema>, options?: CollectionFindOneAndReplaceOptions & {
        includeResultMetadata?: false;
    }): Promise<WithId<Schema> | null>;
    findOneAndUpdate(filter: Filter<Schema>, update: UpdateFilter<Schema>, options: CollectionFindOneAndUpdateOptions & {
        includeResultMetadata: true;
    }): Promise<CollectionModifyResult<Schema>>;
    findOneAndUpdate(filter: Filter<Schema>, update: UpdateFilter<Schema>, options?: CollectionFindOneAndUpdateOptions & {
        includeResultMetadata?: false;
    }): Promise<WithId<Schema> | null>;
    // (undocumented)
    get _httpClient(): DataAPIHttpClient;
    insertMany(documents: MaybeId<Schema>[], options?: CollectionInsertManyOptions): Promise<CollectionInsertManyResult<Schema>>;
    insertOne(document: MaybeId<Schema>, options?: WithTimeout): Promise<CollectionInsertOneResult<Schema>>;
    readonly keyspace: string;
    options(options?: WithTimeout): Promise<CollectionOptions<SomeDoc>>;
    replaceOne(filter: Filter<Schema>, replacement: NoId<Schema>, options?: CollectionReplaceOneOptions): Promise<CollectionReplaceOneResult<Schema>>;
    updateMany(filter: Filter<Schema>, update: UpdateFilter<Schema>, options?: CollectionUpdateManyOptions): Promise<CollectionUpdateManyResult<Schema>>;
    updateOne(filter: Filter<Schema>, update: UpdateFilter<Schema>, options?: CollectionUpdateOneOptions): Promise<CollectionUpdateOneResult<Schema>>;
}

// @public
export interface CollectionDefaultIdOptions {
    type: 'uuid' | 'uuidv6' | 'uuidv7' | 'objectId';
}

// @public
export interface CollectionDeleteManyResult {
    deletedCount: number;
}

// @public
export type CollectionDeleteOneOptions = GenericDeleteOneOptions;

// @public
export interface CollectionDeleteOneResult {
    deletedCount: 0 | 1;
}

// @public
export interface CollectionFindOneAndDeleteOptions extends WithTimeout {
    includeResultMetadata?: boolean;
    projection?: Projection;
    sort?: Sort;
}

// @public
export interface CollectionFindOneAndReplaceOptions extends WithTimeout {
    includeResultMetadata?: boolean;
    projection?: Projection;
    returnDocument?: 'before' | 'after';
    sort?: Sort;
    upsert?: boolean;
}

// @public
export interface CollectionFindOneAndUpdateOptions extends WithTimeout {
    includeResultMetadata?: boolean;
    projection?: Projection;
    returnDocument?: 'before' | 'after';
    sort?: Sort;
    upsert?: boolean;
}

// @public
export type CollectionFindOneOptions = GenericFindOneOptions;

// @public
export type CollectionFindOptions = GenericFindOptions;

// @public
export type CollectionIndexingOptions<Schema extends SomeDoc> = {
    allow: (keyof ToDotNotation<Schema>)[] | ['*'];
    deny?: never;
} | {
    deny: (keyof ToDotNotation<Schema>)[] | ['*'];
    allow?: never;
};

// @public
export type CollectionInsertManyOptions = GenericInsertManyOptions;

// @public
export interface CollectionInsertManyResult<Schema extends SomeDoc> {
    insertedCount: number;
    insertedIds: IdOf<Schema>[];
}

// @public
export interface CollectionInsertOneResult<Schema> {
    insertedId: IdOf<Schema>;
}

// @public
export interface CollectionModifyResult<Schema extends SomeDoc> {
    ok: number;
    value: WithId<Schema> | null;
}

// @public
export class CollectionNotFoundError extends DataAPIError {
    // @internal
    constructor(keyspace: string, collectionName: string);
    readonly collectionName: string;
    readonly keyspace: string;
}

// @public
export interface CollectionOptions<Schema extends SomeDoc> {
    defaultId?: CollectionDefaultIdOptions;
    indexing?: CollectionIndexingOptions<Schema>;
    vector?: CollectionVectorOptions;
}

// @public
export type CollectionReplaceOneOptions = GenericReplaceOneOptions;

// @public
export type CollectionReplaceOneResult<Schema extends SomeDoc> = GenericUpdateResult<IdOf<Schema>, 0 | 1>;

// @public (undocumented)
export interface CollectionSerDesConfig<Schema extends SomeDoc> {
    // (undocumented)
    deserialize?: (this: SomeDoc, key: string, value: any, ctx: DataAPIDesCtx) => [any, boolean?] | boolean | undefined | void;
    // (undocumented)
    mutateInPlace?: boolean;
    // (undocumented)
    serialize?: (this: SomeDoc, key: string, value: any, ctx: DataAPISerCtx<Schema>) => [any, boolean?] | boolean | undefined | void;
}

// @public
export interface CollectionSpawnOptions<Schema extends SomeDoc> extends WithKeyspace {
    defaultMaxTimeMS?: number | null;
    embeddingApiKey?: string | EmbeddingHeadersProvider | null;
    // (undocumented)
    logging?: DataAPILoggingConfig;
    // (undocumented)
    serdes?: CollectionSerDesConfig<Schema>;
}

// @public
export type CollectionUpdateManyOptions = GenericUpdateManyOptions;

// @public
export type CollectionUpdateManyResult<Schema extends SomeDoc> = GenericUpdateResult<IdOf<Schema>, number>;

// @public
export type CollectionUpdateOneOptions = GenericUpdateOneOptions;

// @public
export type CollectionUpdateOneResult<Schema extends SomeDoc> = GenericUpdateResult<IdOf<Schema>, 0 | 1>;

// @public
export interface CollectionVectorOptions {
    dimension?: number;
    metric?: 'cosine' | 'euclidean' | 'dot_product';
    service?: VectorizeServiceOptions;
}

// @public (undocumented)
export type Cols<Schema> = keyof Omit<Schema, typeof $PrimaryKeyType | '$PrimaryKeyType'>;

// Warning: (ae-forgotten-export) The symbol "EmptyObj" needs to be exported by the entry point index.d.ts
// Warning: (ae-incompatible-release-tags) The symbol "Cols2Add" is marked as @public, but its signature references "Cols2CqlTypes" which is marked as @internal
//
// @public (undocumented)
export type Cols2Add<Op extends AddColumnOperation | undefined> = Op extends AddColumnOperation ? Partial<Cols2CqlTypes<Op["columns"]>> : EmptyObj;

// Warning: (ae-forgotten-export) The symbol "PickCqlType" needs to be exported by the entry point index.d.ts
// Warning: (ae-internal-missing-underscore) The name "Cols2CqlTypes" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export type Cols2CqlTypes<Columns extends CreateTableColumnDefinitions> = {
    -readonly [P in keyof Columns]: CqlType2TSType<PickCqlType<Columns[P]>, Columns[P]>;
};

// @public (undocumented)
export type Cols2Drop<Op> = Op extends {
    columns: (infer U)[];
} ? U : never;

// @public
export abstract class CommandEvent extends DataAPIClientEvent {
    // Warning: (ae-forgotten-export) The symbol "DataAPIRequestInfo" needs to be exported by the entry point index.d.ts
    //
    // @internal
    protected constructor(info: DataAPIRequestInfo);
    readonly collection?: string;
    readonly command: Record<string, any>;
    readonly commandName: string;
    // (undocumented)
    formatted(): string;
    readonly keyspace: string;
    readonly url: string;
}

// @public
export class CommandFailedEvent extends CommandEvent {
    // @internal
    constructor(info: DataAPIRequestInfo, error: Error, started: number);
    readonly duration: number;
    readonly error: Error;
    // (undocumented)
    formatted(): string;
}

// @public
export class CommandStartedEvent extends CommandEvent {
    // @internal
    constructor(info: DataAPIRequestInfo);
    // (undocumented)
    formatted(): string;
    readonly timeout: number;
}

// @public
export class CommandSucceededEvent extends CommandEvent {
    // @internal
    constructor(info: DataAPIRequestInfo, reply: RawDataAPIResponse, started: number);
    readonly duration: number;
    // (undocumented)
    formatted(): string;
    readonly resp?: RawDataAPIResponse;
}

// @public (undocumented)
export class CommandWarningsEvent extends CommandEvent {
    constructor(info: DataAPIRequestInfo, warnings: DataAPIErrorDescriptor[]);
    // (undocumented)
    formatted(): string;
    // (undocumented)
    readonly warnings: DataAPIErrorDescriptor[];
}

// @public
export interface CostInfo {
    costPerDayCents: number;
    costPerDayMRCents: number;
    costPerDayParkedCents: number;
    costPerHourCents: number;
    costPerHourMRCents: number;
    costPerHourParkedCents: number;
    costPerMinCents: number;
    costPerMinMRCents: number;
    costPerMinParkedCents: number;
    costPerMonthCents: number;
    costPerMonthMRCents: number;
    costPerMonthParkedCents: number;
    costPerNetworkGbCents: number;
    costPerReadGbCents: number;
    costPerWrittenGbCents: number;
}

// @public (undocumented)
export class CqlDate {
    constructor(input?: string | Date | Partial<CqlDateComponents>);
    // (undocumented)
    components(): CqlDateComponents;
    // (undocumented)
    toDate(base?: Date | CqlTime | CqlTimestamp): Date;
    // (undocumented)
    toString(): string;
}

// @public (undocumented)
export interface CqlDateComponents {
    // (undocumented)
    date: number;
    // (undocumented)
    month: number;
    // (undocumented)
    year: number;
}

// @public (undocumented)
export class CqlDuration {
    constructor(input: string | CqlDurationComponents);
    // (undocumented)
    components(): CqlDurationComponents;
    // (undocumented)
    toString(): string;
}

// @public (undocumented)
export interface CqlDurationComponents {
    // (undocumented)
    days: number;
    // (undocumented)
    months: number;
    // (undocumented)
    nanoseconds: number;
}

// @public (undocumented)
export class CqlTime {
    constructor(input?: string | Date | Partial<CqlTimeComponents>);
    // (undocumented)
    components(): CqlTimeComponents;
    // (undocumented)
    toDate(base?: Date | CqlDate | CqlTimestamp): Date;
    // (undocumented)
    toString(): string;
}

// @public (undocumented)
export interface CqlTimeComponents {
    // (undocumented)
    hours: number;
    // (undocumented)
    minutes: number;
    // (undocumented)
    nanoseconds: number;
    // (undocumented)
    seconds: number;
}

// @public (undocumented)
export class CqlTimestamp {
    constructor(input?: string | Date | Partial<CqlTimestampComponents>);
    // (undocumented)
    components(): CqlTimestampComponents;
    // (undocumented)
    toDate(): Date;
    // (undocumented)
    toString(): string;
}

// @public (undocumented)
export interface CqlTimestampComponents {
    // (undocumented)
    date: number;
    // (undocumented)
    hours: number;
    // (undocumented)
    minutes: number;
    // (undocumented)
    month: number;
    // (undocumented)
    nanoseconds: number;
    // (undocumented)
    seconds: number;
    // (undocumented)
    year: number;
}

// Warning: (ae-forgotten-export) The symbol "CqlNonGenericType2TSTypeDict" needs to be exported by the entry point index.d.ts
// Warning: (ae-forgotten-export) The symbol "CqlGenericType2TSTypeDict" needs to be exported by the entry point index.d.ts
//
// @public
export type CqlType2TSType<T extends string, Def> = T extends keyof CqlNonGenericType2TSTypeDict ? CqlNonGenericType2TSTypeDict[T] : T extends keyof CqlGenericType2TSTypeDict<Def> ? CqlGenericType2TSTypeDict<Def>[T] : unknown;

// @public
export interface CreateCollectionOptions<Schema extends SomeDoc> extends WithTimeout, CollectionOptions<Schema>, CollectionSpawnOptions<Schema> {
}

// @public
export type CreateDatabaseOptions = AdminBlockingOptions & {
    dbOptions?: DbSpawnOptions;
};

// @public
export type CreateKeyspaceOptions = AdminBlockingOptions & {
    updateDbKeyspace?: boolean;
};

// @public (undocumented)
export type CreateTableColumnDefinitions = Record<string, LooseCreateTableColumnDefinition | StrictCreateTableColumnDefinition>;

// @public (undocumented)
export interface CreateTableDefinition {
    // (undocumented)
    readonly columns: CreateTableColumnDefinitions;
    // (undocumented)
    readonly primaryKey: CreateTablePrimaryKeyDefinition;
}

// @public (undocumented)
export type CreateTableIndexOptions = WithTimeout;

// @public (undocumented)
export interface CreateTableOptions<Schema extends SomeRow, Def extends CreateTableDefinition = CreateTableDefinition> extends WithTimeout, TableSpawnOptions<Schema> {
    // (undocumented)
    definition: Def;
}

// @public (undocumented)
export type CreateTablePrimaryKeyDefinition = ShortCreateTablePrimaryKeyDefinition | FullCreateTablePrimaryKeyDefinition;

// @public (undocumented)
export interface CreateTableTextIndexOptions extends WithTimeout {
    // (undocumented)
    ascii?: boolean;
    // (undocumented)
    caseSensitive?: boolean;
    // (undocumented)
    normalize?: boolean;
}

// @public (undocumented)
export interface CreateTableVectorIndexOptions extends WithTimeout {
    // (undocumented)
    similarityFunction: 'cosine' | 'euclidean' | 'dot_product';
    // (undocumented)
    sourceModel?: string;
}

// @public
export abstract class CumulativeDataAPIError extends DataAPIResponseError {
    readonly partialResult: unknown;
}

// @public @deprecated
export type CuratedAPIResponse = FetcherResponseInfo;

// @public
export type CurrentDate<Schema> = {
    [K in keyof Schema as Schema[K] extends Date | {
        $date: number;
    } ? K : never]?: boolean;
};

// @public
export type CursorStatus = 'idle' | 'started' | 'closed';

// @public
export interface CustomHttpClientOptions {
    client: 'custom';
    fetcher: Fetcher;
    maxTimeMS?: number;
}

// @public
export class DataAPIClient extends DataAPIClientEventEmitterBase {
    [Symbol.asyncDispose]: () => Promise<void>;
    constructor(options?: DataAPIClientOptions | nullish);
    constructor(token: string | TokenProvider | nullish, options?: DataAPIClientOptions | nullish);
    admin(options?: AdminSpawnOptions): AstraAdmin;
    close(): Promise<void>;
    db(endpoint: string, options?: DbSpawnOptions): Db;
}

// @public (undocumented)
export abstract class DataAPIClientEvent {
    // (undocumented)
    abstract formatted(): string;
}

// @public
export const DataAPIClientEventEmitterBase: new () => TypedEmitter<DataAPIClientEvents>;

// @public
export type DataAPIClientEvents = DataAPICommandEvents & AdminCommandEvents;

// @public
export interface DataAPIClientOptions {
    adminOptions?: DefaultAdminSpawnOptions;
    caller?: Caller | Caller[];
    dbOptions?: DefaultDbSpawnOptions;
    environment?: DataAPIEnvironment;
    httpOptions?: DataAPIHttpOptions;
    // (undocumented)
    logging?: DataAPILoggingConfig;
}

// @public
export type DataAPICommandEvents = {
    commandStarted: (event: CommandStartedEvent) => void;
    commandSucceeded: (event: CommandSucceededEvent) => void;
    commandFailed: (event: CommandFailedEvent) => void;
    commandWarnings: (event: CommandWarningsEvent) => void;
};

// @public
export class DataAPIDbAdmin extends DbAdmin {
    // @internal
    constructor(db: Db, httpClient: DataAPIHttpClient, rawAdminOpts?: AdminSpawnOptions);
    createKeyspace(keyspace: string, options?: LocalCreateKeyspaceOptions): Promise<void>;
    db(): Db;
    dropKeyspace(keyspace: string, options?: AdminBlockingOptions): Promise<void>;
    findEmbeddingProviders(options?: WithTimeout): Promise<FindEmbeddingProvidersResult>;
    // (undocumented)
    get _httpClient(): DataAPIHttpClient;
    listKeyspaces(options?: WithTimeout): Promise<string[]>;
}

// @public (undocumented)
export interface DataAPIDesCtx {
    // (undocumented)
    depth: number;
    // (undocumented)
    rawDataApiResp: RawDataAPIResponse;
    // (undocumented)
    rootObj: SomeDoc;
}

// @public (undocumented)
export type DataAPIDesFn<Ctx> = (this: SomeDoc, key: string, value: any, ctx: Ctx) => [any, boolean?] | boolean | void;

// @public
export interface DataAPIDetailedErrorDescriptor {
    readonly command: Record<string, any>;
    readonly errorDescriptors: DataAPIErrorDescriptor[];
    readonly rawResponse: RawDataAPIResponse;
}

// @public
export type DataAPIEnvironment = typeof DataAPIEnvironments[number];

// @public
export const DataAPIEnvironments: readonly ["astra", "dse", "hcd", "cassandra", "other"];

// @public
export abstract class DataAPIError extends Error {
}

// @public
export interface DataAPIErrorDescriptor {
    readonly attributes?: Record<string, any>;
    readonly errorCode?: string;
    readonly message?: string;
}

// @public (undocumented)
export interface DataAPIExplicitLoggingConfig {
    // (undocumented)
    readonly emits: DataAPILoggingOutput | readonly DataAPILoggingOutput[];
    // (undocumented)
    readonly events: DataAPILoggingEvent | readonly DataAPILoggingEvent[];
}

// @public
export class DataAPIHttpError extends DataAPIError {
    // @internal
    constructor(resp: FetcherResponseInfo);
    readonly body?: string;
    readonly raw: FetcherResponseInfo;
    readonly status: number;
}

// @public
export type DataAPIHttpOptions = DefaultHttpClientOptions | FetchHttpClientOptions | CustomHttpClientOptions;

// @public (undocumented)
export type DataAPILoggingConfig = DataAPILoggingEvent | readonly (DataAPILoggingEvent | DataAPIExplicitLoggingConfig)[];

// @public (undocumented)
export type DataAPILoggingEvent = 'all' | keyof DataAPIClientEvents;

// @public (undocumented)
export type DataAPILoggingOutput = 'event' | 'stdout' | 'stderr';

// @public
export class DataAPIResponseError extends DataAPIError {
    // @internal
    constructor(detailedErrDescriptors: DataAPIDetailedErrorDescriptor[]);
    readonly detailedErrorDescriptors: DataAPIDetailedErrorDescriptor[];
    readonly errorDescriptors: DataAPIErrorDescriptor[];
    readonly message: string;
}

// @public (undocumented)
export interface DataAPISerCtx<Schema extends SomeDoc> {
    // (undocumented)
    mutatingInPlace: boolean;
    // (undocumented)
    rootObj: Schema;
}

// @public (undocumented)
export type DataAPISerDes = ReturnType<typeof mkSerDes>;

// @public (undocumented)
export interface DataAPISerDesConfig<Schema extends SomeDoc, SerCtx extends DataAPISerCtx<Schema>, DesCtx extends DataAPIDesCtx> {
    // (undocumented)
    adaptDesCtx: (ctx: DataAPIDesCtx) => DesCtx;
    // (undocumented)
    adaptSerCtx: (ctx: DataAPISerCtx<Schema>) => SerCtx;
    // (undocumented)
    deserializer: DataAPIDesFn<DesCtx>[];
    // (undocumented)
    mutateInPlace?: boolean;
    // (undocumented)
    serializer: DataAPISerFn<SerCtx>[];
}

// @public (undocumented)
export type DataAPISerFn<Ctx> = (this: SomeDoc, key: string, value: any, ctx: Ctx) => [any, boolean?] | boolean | void;

// @public
export class DataAPITimeoutError extends DataAPIError {
    // @internal
    constructor(timeout: number);
    readonly timeout: number;
}

// @public
export type DatabaseAction = 'park' | 'unpark' | 'resize' | 'resetPassword' | 'addKeyspace' | 'addDatacenters' | 'terminateDatacenter' | 'getCreds' | 'terminate' | 'removeKeyspace' | 'removeMigrationProxy' | 'launchMigrationProxy';

// @public
export type DatabaseCloudProvider = 'AWS' | 'GCP' | 'AZURE';

// @public
export type DatabaseCloudProviderFilter = DatabaseCloudProvider | 'ALL';

// @public
export interface DatabaseConfig {
    cloudProvider?: DatabaseCloudProvider;
    keyspace?: string;
    name: string;
    region: string;
}

// @public
export interface DatabaseInfo {
    additionalKeyspaces?: string[];
    capacityUnits: number;
    cloudProvider?: DatabaseCloudProvider;
    datacenters?: DatacenterInfo[];
    dbType?: 'vector';
    keyspace?: string;
    keyspaces?: string[];
    name: string;
    password?: string;
    region: string;
    tier: DatabaseTier;
    user?: string;
}

// @public
export type DatabaseStatus = 'ACTIVE' | 'ERROR' | 'DECOMMISSIONING' | 'DEGRADED' | 'HIBERNATED' | 'HIBERNATING' | 'INITIALIZING' | 'MAINTENANCE' | 'PARKED' | 'PARKING' | 'PENDING' | 'PREPARED' | 'PREPARING' | 'RESIZING' | 'RESUMING' | 'TERMINATED' | 'TERMINATING' | 'UNKNOWN' | 'UNPARKING' | 'SYNCHRONIZING';

// @public
export type DatabaseStatusFilter = DatabaseStatus | 'ALL' | 'NONTERMINATED';

// @public
export interface DatabaseStorageInfo {
    nodeCount: number;
    replicationFactor: number;
    totalStorage: number;
    usedStorage?: number;
}

// @public
export type DatabaseTier = 'developer' | 'A5' | 'A10' | 'A20' | 'A40' | 'C10' | 'C20' | 'C40' | 'D10' | 'D20' | 'D40' | 'serverless';

// @public
export interface DatacenterInfo {
    capacityUnits: number;
    cloudProvider: DatabaseCloudProvider;
    dateCreated: string;
    id: string;
    isPrimary: boolean;
    name: string;
    region: string;
    regionClassification: string;
    regionZone: string;
    secureBundleUrl: string;
    status: string;
    tier: DatabaseTier;
}

// @public
export interface DateFilterOps {
    $gt?: Date;
    $gte?: Date;
    $lt?: Date;
    $lte?: Date;
}

// Warning: (ae-forgotten-export) The symbol "ContainsDate" needs to be exported by the entry point index.d.ts
//
// @public
export type DateUpdate<Schema> = {
    [K in keyof Schema as ContainsDate<Schema[K]> extends true ? K : never]?: Date | {
        $date: number;
    };
};

// @public
export class Db {
    // @internal
    constructor(rootOpts: InternalRootClientOpts, endpoint: string, rawDbOpts: DbSpawnOptions | nullish);
    admin(options?: AdminSpawnOptions & {
        environment?: 'astra';
    }): AstraDbAdmin;
    admin(options: AdminSpawnOptions & {
        environment: Exclude<DataAPIEnvironment, 'astra'>;
    }): DataAPIDbAdmin;
    collection<Schema extends SomeDoc = SomeDoc>(name: string, options?: CollectionSpawnOptions<Schema>): Collection<Schema>;
    command(command: Record<string, any>, options?: RunCommandOptions): Promise<RawDataAPIResponse>;
    createCollection<Schema extends SomeDoc = SomeDoc>(collectionName: string, options?: CreateCollectionOptions<Schema>): Promise<Collection<Schema>>;
    createTable<const Def extends CreateTableDefinition>(tableName: string, options: CreateTableOptions<InferTableSchemaFromDefinition<Def>, Def>): Promise<Table<InferTableSchemaFromDefinition<Def>>>;
    createTable<Schema extends SomeRow>(tableName: string, options: CreateTableOptions<Schema>): Promise<Table<Schema>>;
    dropCollection(name: string, options?: DropCollectionOptions): Promise<boolean>;
    dropTable(name: string, options?: DropTableOptions): Promise<boolean>;
    // (undocumented)
    get _httpClient(): DataAPIHttpClient;
    get id(): string;
    info(options?: WithTimeout): Promise<DatabaseInfo>;
    get keyspace(): string;
    listCollections(options: ListCollectionsOptions & {
        nameOnly: true;
    }): Promise<string[]>;
    listCollections(options?: ListCollectionsOptions & {
        nameOnly?: false;
    }): Promise<FullCollectionInfo[]>;
    listTables(options: ListTablesOptions & {
        nameOnly: true;
    }): Promise<string[]>;
    listTables(options?: ListTablesOptions & {
        nameOnly?: false;
    }): Promise<FullTableInfo[]>;
    // (undocumented)
    table<Schema extends SomeRow = SomeRow>(name: string, options?: TableSpawnOptions<Schema>): Table<Schema>;
    useKeyspace(keyspace: string): void;
}

// @public
export abstract class DbAdmin {
    abstract createKeyspace(keyspace: string, options?: CreateKeyspaceOptions): Promise<void>;
    abstract db(): Db;
    abstract dropKeyspace(keyspace: string, options?: AdminBlockingOptions): Promise<void>;
    abstract findEmbeddingProviders(options?: WithTimeout): Promise<FindEmbeddingProvidersResult>;
    abstract listKeyspaces(): Promise<string[]>;
}

// @public
export interface DbMetricsInfo {
    errorsTotalCount: number;
    liveDataSizeBytes: number;
    readRequestsTotalCount: number;
    writeRequestsTotalCount: number;
}

// @public (undocumented)
export interface DbSerDesConfig<Schema extends SomeDoc> {
    // (undocumented)
    collection?: Omit<CollectionSerDesConfig<Schema>, 'mutateInPlace'>;
    // (undocumented)
    mutateInPlace?: boolean;
    // (undocumented)
    table?: Omit<TableSerDesConfig<Schema>, 'mutateInPlace'>;
}

// @public
export interface DbSpawnOptions {
    dataApiPath?: string;
    keyspace?: string | null;
    // (undocumented)
    logging?: DataAPILoggingConfig;
    // (undocumented)
    serdes?: DbSerDesConfig<SomeDoc>;
    token?: string | TokenProvider | null;
}

// @public
export type DeepPartial<T> = T extends object ? {
    [P in keyof T]?: DeepPartial<T[P]>;
} : T;

// @public
export const DEFAULT_KEYSPACE = "default_keyspace";

// @public (undocumented)
export type DefaultAdminSpawnOptions = Omit<AdminSpawnOptions, 'logging'>;

// @public (undocumented)
export type DefaultDbSpawnOptions = Omit<DbSpawnOptions, 'logging'>;

// @public
export interface DefaultHttpClientOptions {
    client?: 'default';
    fetchH2?: unknown;
    http1?: Http1Options;
    maxTimeMS?: number;
    preferHttp2?: boolean;
}

// @public
export class DeleteManyError extends CumulativeDataAPIError {
    name: string;
    readonly partialResult: CollectionDeleteManyResult;
}

// @public
export abstract class DevOpsAPIError extends Error {
}

// @public
export interface DevOpsAPIErrorDescriptor {
    id: number;
    message?: string;
}

// @public
export class DevOpsAPIResponseError extends DevOpsAPIError {
    // @internal
    constructor(resp: FetcherResponseInfo, data: Record<string, any> | undefined);
    readonly errors: DevOpsAPIErrorDescriptor[];
    readonly raw: FetcherResponseInfo;
    readonly status: number;
}

// @public
export class DevOpsAPITimeoutError extends DevOpsAPIError {
    // @internal
    constructor(url: string, timeout: number);
    readonly timeout: number;
    readonly url: string;
}

// @public
export class DevOpsUnexpectedStateError extends DevOpsAPIError {
    // @internal
    constructor(message: string, expected: string[], data: Record<string, any> | undefined);
    readonly dbInfo?: FullDatabaseInfo;
    readonly expected: string[];
}

// @public
export interface DropCollectionOptions extends WithTimeout, WithKeyspace {
}

// @public (undocumented)
export interface DropColumnOperation<Schema extends SomeRow> {
    // (undocumented)
    columns: Cols<Schema>[];
}

// @public (undocumented)
export interface DropTableOptions extends WithTimeout, WithKeyspace {
}

// @public (undocumented)
export interface DropVectorizeOperation<Schema extends SomeRow> {
    // (undocumented)
    columns: Cols<Schema>[];
}

// @public
export class EmbeddingAPIKeyHeaderProvider extends EmbeddingHeadersProvider {
    constructor(apiKey: string | nullish);
    getHeaders(): Record<string, string>;
}

// @public
export abstract class EmbeddingHeadersProvider {
    abstract getHeaders(): Promise<Record<string, string>> | Record<string, string>;
    // @internal
    static parseHeaders(token: unknown): EmbeddingHeadersProvider;
}

// @public
export interface EmbeddingProviderAuthInfo {
    enabled: boolean;
    tokens: EmbeddingProviderTokenInfo[];
}

// @public
export interface EmbeddingProviderInfo {
    displayName: string;
    models: EmbeddingProviderModelInfo[];
    parameters: EmbeddingProviderProviderParameterInfo[];
    supportedAuthentication: Record<string, EmbeddingProviderAuthInfo>;
    url: string;
}

// @public
export interface EmbeddingProviderModelInfo {
    name: string;
    parameters: EmbeddingProviderModelParameterInfo[];
    vectorDimension: number | null;
}

// @public
export interface EmbeddingProviderModelParameterInfo {
    defaultValue: string;
    help: string;
    name: string;
    required: boolean;
    type: string;
    validation: Record<string, unknown>[];
}

// @public
export interface EmbeddingProviderProviderParameterInfo extends EmbeddingProviderModelParameterInfo {
    displayName: string;
    hint: string;
}

// @public
export interface EmbeddingProviderTokenInfo {
    accepted: string;
    forwarded: string;
}

// @public
export class FailedToLoadDefaultClientError extends Error {
    // @internal
    constructor(rootCause: Error);
    readonly rootCause: Error;
}

// @public
export interface Fetcher {
    close?(): Promise<void>;
    fetch(info: FetcherRequestInfo): Promise<FetcherResponseInfo>;
}

// @public
export interface FetcherRequestInfo {
    body: string | undefined;
    forceHttp1: boolean | undefined;
    headers: Record<string, string>;
    method: 'DELETE' | 'GET' | 'POST';
    mkTimeoutError: () => Error;
    timeout: number;
    url: string;
}

// @public
export interface FetcherResponseInfo {
    additionalAttributes?: Record<string, any>;
    body?: string;
    headers: Record<string, string>;
    httpVersion: 1 | 2;
    status: number;
    statusText: string;
    url: string;
}

// @public
export class FetchH2 implements Fetcher {
    constructor(options: DefaultHttpClientOptions | undefined, preferHttp2: boolean);
    close(): Promise<void>;
    fetch(info: FetcherRequestInfo): Promise<FetcherResponseInfo>;
}

// @public
export interface FetchHttpClientOptions {
    client: 'fetch';
    maxTimeMS?: number;
}

// @public
export class FetchNative implements Fetcher {
    close(): Promise<void>;
    fetch(info: FetcherRequestInfo): Promise<FetcherResponseInfo>;
}

// @public
export type Filter<Schema extends SomeDoc> = {
    [K in keyof NoId<Schema>]?: FilterExpr<NoId<Schema>[K]>;
} & {
    _id?: FilterExpr<IdOf<Schema>>;
    $and?: Filter<Schema>[];
    $or?: Filter<Schema>[];
    $not?: Filter<Schema>;
} & {
    [key: string]: any;
};

// @public
export type FilterExpr<Elem> = Elem | FilterOps<Elem>;

// Warning: (ae-forgotten-export) The symbol "IsNum" needs to be exported by the entry point index.d.ts
// Warning: (ae-forgotten-export) The symbol "IsDate" needs to be exported by the entry point index.d.ts
//
// @public
export type FilterOps<Elem> = {
    $eq?: Elem;
    $ne?: Elem;
    $in?: Elem[];
    $nin?: Elem[];
    $exists?: boolean;
} & (IsNum<Elem> extends false ? EmptyObj : NumFilterOps) & (IsDate<Elem> extends false ? EmptyObj : (DateFilterOps | Date)) & (any[] extends Elem ? ArrayFilterOps<Elem> : EmptyObj);

// @public
export class FindCursor<T, TRaw extends SomeDoc = SomeDoc> {
    [Symbol.asyncIterator](): AsyncGenerator<T, void, void>;
    // @internal
    constructor(keyspace: string, parent: string, httpClient: DataAPIHttpClient, serdes: DataAPISerDes, filter: Filter<TRaw>, options?: GenericFindOptions, mapping?: (doc: TRaw) => T);
    buffered(): number;
    clone(): FindCursor<TRaw, TRaw>;
    close(): void;
    consumeBuffer(max?: number): TRaw[];
    consumed(): number;
    filter(filter: Filter<TRaw>): FindCursor<T, TRaw>;
    forEach(consumer: ((doc: T) => boolean) | ((doc: T) => void)): Promise<void>;
    getSortVector(): Promise<number[] | null>;
    hasNext(): Promise<boolean>;
    includeSimilarity(includeSimilarity?: boolean): FindCursor<T, TRaw>;
    includeSortVector(includeSortVector?: boolean): FindCursor<T, TRaw>;
    get keyspace(): string;
    limit(limit: number): FindCursor<T, TRaw>;
    map<R>(mapping: (doc: T) => R): FindCursor<R, TRaw>;
    next(): Promise<T | null>;
    project<RRaw extends SomeDoc = DeepPartial<TRaw>>(projection: Projection): FindCursor<RRaw, RRaw>;
    rewind(): void;
    skip(skip: number): FindCursor<T, TRaw>;
    sort(sort: Sort): FindCursor<T, TRaw>;
    get state(): CursorStatus;
    toArray(): Promise<T[]>;
}

// @public
export interface FindEmbeddingProvidersResult {
    embeddingProviders: Record<string, EmbeddingProviderInfo>;
}

// @public
export type Flatten<Type> = Type extends (infer Item)[] ? Item : Type;

// @public
export type FoundDoc<Doc> = WithId<Omit<Doc, '$similarity'> & {
    $similarity?: number;
}>;

// @public (undocumented)
export type FoundRow<Doc> = Omit<Doc, '$similarity'> & {
    $similarity?: number;
};

// @public
export interface FullCollectionInfo {
    name: string;
    options: CollectionOptions<SomeDoc>;
}

// @public (undocumented)
export interface FullCreateTablePrimaryKeyDefinition {
    // (undocumented)
    readonly partitionBy: readonly string[];
    // (undocumented)
    readonly partitionSort?: Record<string, 1 | -1>;
}

// @public
export interface FullDatabaseInfo {
    availableActions?: DatabaseAction[];
    cost?: CostInfo;
    cqlshUrl?: string;
    creationTime?: string;
    dataEndpointUrl?: string;
    grafanaUrl?: string;
    graphqlUrl?: string;
    id: string;
    info: DatabaseInfo;
    lastUsageTime?: string;
    message?: string;
    metrics?: DbMetricsInfo;
    observedStatus: DatabaseStatus;
    orgId: string;
    ownerId: string;
    status: DatabaseStatus;
    storage?: DatabaseStorageInfo;
    terminationTime?: string;
}

// @public (undocumented)
export interface FullTableInfo {
    // (undocumented)
    definition: ListTableDefinition[];
    // (undocumented)
    name: string;
}

// @public (undocumented)
export interface GenericDeleteManyResult {
    // (undocumented)
    deletedCount: number;
}

// @public (undocumented)
export interface GenericDeleteOneOptions extends WithTimeout {
    // (undocumented)
    sort?: Sort;
}

// @public (undocumented)
export interface GenericDeleteOneResult {
    // (undocumented)
    deletedCount: 0 | 1;
}

// @public (undocumented)
export interface GenericFindOneAndDeleteOptions extends WithTimeout {
    // (undocumented)
    includeResultMetadata?: boolean;
    // (undocumented)
    projection?: Projection;
    // (undocumented)
    sort?: Sort;
}

// @public (undocumented)
export interface GenericFindOneAndReplaceOptions extends WithTimeout {
    // (undocumented)
    includeResultMetadata?: boolean;
    // (undocumented)
    projection?: Projection;
    // (undocumented)
    returnDocument?: 'before' | 'after';
    // (undocumented)
    sort?: Sort;
    // (undocumented)
    upsert?: boolean;
}

// @public (undocumented)
export interface GenericFindOneAndUpdateOptions extends WithTimeout {
    // (undocumented)
    includeResultMetadata?: boolean;
    // (undocumented)
    projection?: Projection;
    // (undocumented)
    returnDocument?: 'before' | 'after';
    // (undocumented)
    sort?: Sort;
    // (undocumented)
    upsert?: boolean;
}

// @public (undocumented)
export interface GenericFindOneOptions extends WithTimeout {
    // (undocumented)
    includeSimilarity?: boolean;
    // (undocumented)
    projection?: Projection;
    // (undocumented)
    sort?: Sort;
}

// @public (undocumented)
export interface GenericFindOptions {
    // (undocumented)
    includeSimilarity?: boolean;
    // (undocumented)
    includeSortVector?: boolean;
    // (undocumented)
    limit?: number;
    // (undocumented)
    projection?: Projection;
    // (undocumented)
    skip?: number;
    // (undocumented)
    sort?: Sort;
}

// Warning: (ae-internal-missing-underscore) The name "GenericInsertManyDocumentResponse" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export type GenericInsertManyDocumentResponse<_T> = any;

// @public
export type GenericInsertManyOptions = GenericInsertManyUnorderedOptions | GenericInsertManyOrderedOptions;

// @public
export interface GenericInsertManyOrderedOptions extends WithTimeout {
    chunkSize?: number;
    ordered: true;
}

// Warning: (ae-internal-missing-underscore) The name "GenericInsertManyResult" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export interface GenericInsertManyResult<ID> {
    // (undocumented)
    insertedCount: number;
    // (undocumented)
    insertedIds: ID[];
}

// @public
export interface GenericInsertManyUnorderedOptions extends WithTimeout {
    chunkSize?: number;
    concurrency?: number;
    ordered?: false;
}

// Warning: (ae-internal-missing-underscore) The name "GenericInsertOneResult" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export interface GenericInsertOneResult<ID> {
    // (undocumented)
    insertedId: ID;
}

// @public (undocumented)
export interface GenericModifyResult<ID> {
    // (undocumented)
    ok: number;
    // (undocumented)
    value: ID | null;
}

// @public (undocumented)
export interface GenericReplaceOneOptions extends WithTimeout {
    // (undocumented)
    sort?: Sort;
    // (undocumented)
    upsert?: boolean;
}

// @public (undocumented)
export interface GenericUpdateManyOptions extends WithTimeout {
    // (undocumented)
    upsert?: boolean;
}

// @public
export interface GenericUpdateOneOptions extends WithTimeout {
    sort?: Sort;
    upsert?: boolean;
}

// @public
export type GenericUpdateResult<ID, N extends number> = (GuaranteedUpdateResult<N> & UpsertedUpdateResult<ID>) | (GuaranteedUpdateResult<N> & NoUpsertUpdateResult);

// @public
export interface GuaranteedUpdateResult<N extends number> {
    matchedCount: N;
    modifiedCount: N;
}

// @public
export interface Http1Options {
    keepAlive?: boolean;
    keepAliveMS?: number;
    maxFreeSockets?: number;
    maxSockets?: number;
}

// @public
export type IdOf<Doc> = Doc extends {
    _id: infer Id;
} ? Id : Doc extends {
    _id?: infer Id;
} ? unknown extends Id ? SomeId : Id : SomeId;

// @public (undocumented)
export class InetAddress {
    constructor(address: string, version?: 4 | 6);
    // (undocumented)
    static fromIP(raw: string): InetAddress;
    // (undocumented)
    static fromIPv4(raw: string): InetAddress;
    // (undocumented)
    static fromIPv6(raw: string): InetAddress;
    // (undocumented)
    toString(): string;
    // (undocumented)
    get version(): 4 | 6;
}

// @public
export type InferrableTable = ((..._: any[]) => Promise<Table>) | ((..._: any[]) => Table) | Promise<Table> | Table;

// @public
export type InferTableSchema<T extends InferrableTable> = T extends (..._: any[]) => Promise<Table<infer Schema>> ? Schema : T extends (..._: any[]) => Table<infer Schema> ? Schema : T extends Promise<Table<infer Schema>> ? Schema : T extends Table<infer Schema> ? Schema : never;

// Warning: (ae-forgotten-export) The symbol "MkColumnTypes" needs to be exported by the entry point index.d.ts
// Warning: (ae-forgotten-export) The symbol "MkPrimaryKeyType" needs to be exported by the entry point index.d.ts
// Warning: (ae-incompatible-release-tags) The symbol "InferTableSchemaFromDefinition" is marked as @public, but its signature references "Cols2CqlTypes" which is marked as @internal
//
// @public
export type InferTableSchemaFromDefinition<FullDef extends CreateTableDefinition> = Normalize<MkColumnTypes<FullDef['columns'], MkPrimaryKeyType<FullDef, Cols2CqlTypes<FullDef['columns']>>> & {
    [$PrimaryKeyType]?: MkPrimaryKeyType<FullDef, Cols2CqlTypes<FullDef['columns']>>;
}>;

// @public (undocumented)
export type InsertManyDocumentResponse<_T> = any;

// @public
export class InsertManyError extends CumulativeDataAPIError {
    name: string;
    readonly partialResult: CollectionInsertManyResult<SomeDoc>;
}

// @public (undocumented)
export type KeyOf<Schema> = Schema extends {
    [$PrimaryKeyType]?: infer PrimaryKey;
} ? PrimaryKey extends SomeTableKey ? PrimaryKey : SomeTableKey : SomeTableKey;

// @public
export type KeyspaceReplicationOptions = {
    class: 'SimpleStrategy';
    replicationFactor: number;
} | {
    class: 'NetworkTopologyStrategy';
    [datacenter: string]: number | 'NetworkTopologyStrategy';
};

// @public
export interface ListCollectionsOptions extends WithTimeout, WithKeyspace {
    nameOnly?: boolean;
}

// @public (undocumented)
export interface ListCreateTableColumnDefinition {
    // (undocumented)
    type: 'list';
    // (undocumented)
    valueType: TableScalarType;
}

// @public
export interface ListDatabasesOptions extends WithTimeout {
    include?: DatabaseStatusFilter;
    limit?: number;
    provider?: DatabaseCloudProviderFilter;
    skip?: number;
}

// @public (undocumented)
export type ListTableColumnDefinitions = Record<string, ListTableKnownColumnDefinition | ListTableUnsupportedColumnDefinition>;

// @public (undocumented)
export interface ListTableDefinition {
    // (undocumented)
    columns: ListTableColumnDefinitions;
    // (undocumented)
    primaryKey: ListTablePrimaryKeyDefinition;
}

// @public (undocumented)
export type ListTableKnownColumnDefinition = StrictCreateTableColumnDefinition;

// @public (undocumented)
export type ListTablePrimaryKeyDefinition = Required<FullCreateTablePrimaryKeyDefinition>;

// @public (undocumented)
export interface ListTablesOptions extends WithTimeout, WithKeyspace {
    // (undocumented)
    nameOnly?: boolean;
}

// @public (undocumented)
export interface ListTableUnsupportedColumnApiSupport {
    // (undocumented)
    cqlDefinition: string;
    // (undocumented)
    createTable: boolean;
    // (undocumented)
    insert: boolean;
    // (undocumented)
    read: boolean;
}

// @public (undocumented)
export interface ListTableUnsupportedColumnDefinition {
    // (undocumented)
    apiSupport: ListTableUnsupportedColumnApiSupport;
    // (undocumented)
    type: 'UNSUPPORTED';
}

// @public
export type LocalCreateKeyspaceOptions = CreateKeyspaceOptions & {
    replication?: KeyspaceReplicationOptions;
};

// @public (undocumented)
export type LooseCreateTableColumnDefinition = TableScalarType | string;

// @public (undocumented)
export interface MapCreateTableColumnDefinition {
    // (undocumented)
    keyType: TableScalarType;
    // (undocumented)
    type: 'map';
    // (undocumented)
    valueType: TableScalarType;
}

// @public
export type MaybeId<T> = NoId<T> & {
    _id?: IdOf<T>;
};

// @public (undocumented)
export const mkSerDes: <Schema extends SomeDoc>(cfg: DataAPISerDesConfig<Schema, any, any>) => {
    serializeRecord<S extends Schema | nullish>(obj: S): S;
    deserializeRecord<S extends Schema | nullish>(obj: SomeDoc | nullish, raw: RawDataAPIResponse): S;
};

// @public (undocumented)
export const mkTableSerDes: <Schema extends SomeRow>(cfg?: TableSerDesConfig<Schema>) => {
    serializeRecord<S extends nullish | SomeDoc>(obj: S): S;
    deserializeRecord<S extends nullish | SomeDoc>(obj: SomeDoc | nullish, raw: RawDataAPIResponse): S;
};

// @public
export interface NoBlockingOptions extends WithTimeout {
    blocking: false;
}

// @public
export type NoId<Doc> = Omit<Doc, '_id'>;

// @public (undocumented)
export type Normalize<T> = {
    [K in keyof T]: T[K];
} & EmptyObj;

// @public
export interface NoUpsertUpdateResult {
    upsertedCount: 0;
    upsertedId?: never;
}

// @public
export type nullish = null | undefined;

// @public
export type NumberUpdate<Schema> = {
    [K in keyof Schema as IsNum<Schema[K]> extends true ? K : never]?: number | bigint;
};

// @public
export interface NumFilterOps {
    $gt?: number | bigint;
    $gte?: number | bigint;
    $lt?: number | bigint;
    $lte?: number | bigint;
}

// @public
export class ObjectId {
    constructor(id?: string | number | null, validate?: boolean);
    equals(other: unknown): boolean;
    getTimestamp(): Date;
    // (undocumented)
    toJSON(): {
        $objectId: string;
    };
    toString(): string;
}

// @public
export interface PollBlockingOptions extends WithTimeout {
    blocking?: true;
    pollInterval?: number;
}

// @public
export type Pop<Schema> = {
    [K in keyof ArrayUpdate<Schema>]?: number;
};

// @public
export type Projection = Record<string, 1 | 0 | true | false | ProjectionSlice>;

// @public
export interface ProjectionSlice {
    $slice: number | [number, number];
}

// @public
export type Push<Schema> = {
    [K in keyof ArrayUpdate<Schema>]?: (ArrayUpdate<Schema>[K] | {
        $each: ArrayUpdate<Schema>[K][];
        $position?: number;
    });
};

// @public
export interface RawDataAPIResponse {
    data?: Record<string, any>;
    errors?: any[];
    status?: Record<string, any>;
}

// @public (undocumented)
export interface Row<Schema extends SomeRow, PrimaryKey extends keyof Schema> {
    // (undocumented)
    [$PrimaryKeyType]?: {
        [P in PrimaryKey]: Schema[P];
    };
}

// @public
export interface RunCommandOptions extends WithTimeout {
    collection?: string;
    keyspace?: string | null;
    // (undocumented)
    table?: string;
}

// @public (undocumented)
export interface ScalarCreateTableColumnDefinition {
    // (undocumented)
    type: TableScalarType;
}

// @public (undocumented)
export interface SetCreateTableColumnDefinition {
    // (undocumented)
    type: 'set';
    // (undocumented)
    valueType: TableScalarType;
}

// @public (undocumented)
export type ShortCreateTablePrimaryKeyDefinition = string;

// @public
export type SomeDoc = Record<string, any>;

// @public
export type SomeId = string | number | bigint | boolean | Date | UUID | ObjectId | null;

// @public (undocumented)
export type SomeRow = Record<string, any>;

// @public (undocumented)
export type SomeTableKey = Record<string, unknown>;

// @public
export type Sort = Record<string, SortDirection> | {
    $vector: number[];
} | {
    $vectorize: string;
};

// @public
export type SortDirection = 1 | -1 | 'asc' | 'desc' | 'ascending' | 'descending';

// @public
export class StaticTokenProvider extends TokenProvider {
    constructor(token: string | nullish);
    getToken(): string | nullish;
}

// @public (undocumented)
export type StrictCreateTableColumnDefinition = ScalarCreateTableColumnDefinition | MapCreateTableColumnDefinition | ListCreateTableColumnDefinition | SetCreateTableColumnDefinition | VectorCreateTableColumnDefinition;

// Warning: (ae-forgotten-export) The symbol "TypeErr" needs to be exported by the entry point index.d.ts
//
// @public
export type StrictDateUpdate<Schema extends SomeDoc, InNotation = ToDotNotation<Schema>> = ContainsDate<InNotation> extends true ? {
    [K in keyof InNotation as ContainsDate<InNotation[K]> extends true ? K : never]?: Date | {
        $date: number;
    };
} : TypeErr<'Can not perform a date operation on a schema with no dates'>;

// @public
export type StrictFilter<Schema extends SomeDoc> = {
    [K in keyof ToDotNotation<NoId<Schema>>]?: FilterExpr<ToDotNotation<NoId<Schema>>[K]>;
} & {
    _id?: FilterExpr<IdOf<Schema>>;
    $and?: StrictFilter<Schema>[];
    $or?: StrictFilter<Schema>[];
    $not?: StrictFilter<Schema>;
};

// Warning: (ae-forgotten-export) The symbol "ContainsNum" needs to be exported by the entry point index.d.ts
//
// @public
export type StrictNumberUpdate<Schema extends SomeDoc, InNotation = ToDotNotation<Schema>> = ContainsNum<InNotation> extends true ? {
    [K in keyof InNotation as IsNum<InNotation[K]> extends true ? K : never]?: number | bigint;
} : TypeErr<'Can not perform a number operation on a schema with no numbers'>;

// Warning: (ae-forgotten-export) The symbol "ContainsArr" needs to be exported by the entry point index.d.ts
//
// @public
export type StrictPop<Schema extends SomeDoc, InNotation = ToDotNotation<Schema>> = ContainsArr<InNotation> extends true ? {
    [K in keyof ArrayUpdate<InNotation>]?: number;
} : TypeErr<'Can not pop on a schema with no arrays'>;

// @public
export type StrictProjection<Schema extends SomeDoc> = {
    [K in keyof ToDotNotation<WithId<Schema>>]?: any[] extends (ToDotNotation<WithId<Schema>>)[K] ? 1 | 0 | true | false | ProjectionSlice : 1 | 0 | true | false;
} & {
    '*'?: 1 | 0 | true | false;
};

// @public
export type StrictPush<Schema extends SomeDoc, InNotation = ToDotNotation<Schema>> = ContainsArr<InNotation> extends true ? {
    [K in keyof ArrayUpdate<InNotation>]?: (ArrayUpdate<InNotation>[K] | {
        $each: ArrayUpdate<InNotation>[K][];
        $position?: number;
    });
} : TypeErr<'Can not perform array operation on a schema with no arrays'>;

// @public
export type StrictRename<Schema extends SomeDoc> = {
    [K in keyof ToDotNotation<Schema>]?: string;
};

// @public
export type StrictSort<Schema extends SomeDoc> = {
    [K in keyof ToDotNotation<WithId<Schema>>]?: SortDirection;
} | {
    $vector: number[];
} | {
    $vectorize: string;
};

// @public
export type StrictUnset<Schema extends SomeDoc> = {
    [K in keyof ToDotNotation<Schema>]?: '' | true | 1;
};

// @public
export interface StrictUpdateFilter<Schema extends SomeDoc> {
    $addToSet?: StrictPush<Schema>;
    $currentDate?: CurrentDate<ToDotNotation<Schema>>;
    $inc?: StrictNumberUpdate<Schema>;
    $max?: StrictNumberUpdate<Schema> | StrictDateUpdate<Schema>;
    $min?: StrictNumberUpdate<Schema> | StrictDateUpdate<Schema>;
    $mul?: StrictNumberUpdate<Schema>;
    $pop?: StrictPop<Schema>;
    $push?: StrictPush<Schema>;
    $rename?: StrictRename<Schema>;
    $set?: Partial<ToDotNotation<Schema>>;
    $setOnInsert?: Partial<ToDotNotation<Schema>>;
    $unset?: StrictUnset<Schema>;
}

// @public
export class Table<Schema extends SomeRow = SomeRow> {
    // @internal
    constructor(db: Db, httpClient: DataAPIHttpClient, name: string, opts: TableSpawnOptions<Schema> | undefined);
    // (undocumented)
    alter<const Spec extends AlterTableOptions<Schema>>(options: Spec): Promise<Table<AlterTableSchema<Schema, Spec>>>;
    // (undocumented)
    alter<NewSchema extends SomeRow>(options: AlterTableOptions<Schema>): Promise<Table<NewSchema>>;
    // (undocumented)
    countRows(filter: Filter<Schema>, upperBound: number, options?: WithTimeout): Promise<number>;
    // (undocumented)
    createIndex(name: string, column: Cols<Schema> | string, options?: CreateTableIndexOptions): Promise<void>;
    // (undocumented)
    createTextIndex(name: string, column: Cols<Schema> | string, options?: CreateTableTextIndexOptions): Promise<void>;
    // (undocumented)
    createVectorIndex(name: string, column: Cols<Schema> | string, options?: CreateTableVectorIndexOptions): Promise<void>;
    // (undocumented)
    deleteMany(filter: Filter<Schema>, options?: WithTimeout): Promise<void>;
    // (undocumented)
    deleteOne(filter: Filter<Schema>, options?: TableDeleteOneOptions): Promise<void>;
    // (undocumented)
    drop(options?: WithTimeout): Promise<boolean>;
    // (undocumented)
    dropIndex(name: string, options?: WithTimeout): Promise<void>;
    // (undocumented)
    find(filter: Filter<Schema>, options?: TableFindOptions): FindCursor<FoundRow<Schema>, FoundRow<Schema>>;
    // (undocumented)
    findOne(filter: Filter<Schema>, options?: TableFindOneOptions): Promise<FoundRow<Schema> | null>;
    // (undocumented)
    get _httpClient(): DataAPIHttpClient;
    // (undocumented)
    insertMany(document: Schema[], options?: TableInsertManyOptions): Promise<TableInsertManyResult<Schema>>;
    // (undocumented)
    insertOne(document: Schema, options?: WithTimeout): Promise<TableInsertOneResult<Schema>>;
    readonly keyspace: string;
    readonly tableName: string;
    // (undocumented)
    updateMany(filter: Filter<Schema>, update: UpdateFilter<Schema>, options?: TableUpdateManyOptions): Promise<TableUpdateManyResult<Schema>>;
    // (undocumented)
    updateOne(filter: Filter<Schema>, update: UpdateFilter<Schema>, options?: TableUpdateOneOptions): Promise<TableUpdateOneResult<Schema>>;
}

// Warning: (ae-forgotten-export) The symbol "TableDesCtx" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export type TableColumnTypeParser = (val: any, ctx: TableDesCtx, definition: SomeDoc) => any;

// @public (undocumented)
export type TableDeleteOneOptions = GenericDeleteOneOptions;

// @public (undocumented)
export type TableFindOneOptions = GenericFindOneOptions;

// @public (undocumented)
export type TableFindOptions = GenericFindOptions;

// @public
export type TableInsertManyOptions = GenericInsertManyOptions;

// @public
export interface TableInsertManyResult<Schema extends SomeRow> {
    insertedCount: number;
    insertedIds: KeyOf<Schema>[];
}

// @public
export interface TableInsertOneResult<Schema extends SomeRow> {
    // (undocumented)
    insertedId: KeyOf<Schema>;
}

// @public (undocumented)
export type TableScalarType = 'ascii' | 'bigint' | 'blob' | 'boolean' | 'date' | 'decimal' | 'double' | 'duration' | 'float' | 'int' | 'inet' | 'smallint' | 'text' | 'time' | 'timestamp' | 'tinyint' | 'uuid' | 'varchar' | 'varint';

// @public (undocumented)
export interface TableSerDesConfig<Schema extends SomeRow> {
    // (undocumented)
    deserialize?: (this: SomeRow, key: string, value: any, ctx: TableDesCtx) => [any, boolean?] | boolean | undefined | void;
    // (undocumented)
    mutateInPlace?: boolean;
    // (undocumented)
    parsers?: Record<string, TableColumnTypeParser>;
    // (undocumented)
    serialize?: (this: SomeRow, key: string, value: any, ctx: DataAPISerCtx<Schema>) => [any, boolean?] | boolean | undefined | void;
}

// @public (undocumented)
export interface TableSpawnOptions<Schema extends SomeDoc> extends WithKeyspace {
    // (undocumented)
    defaultMaxTimeMS?: number | null;
    // (undocumented)
    embeddingApiKey?: string | EmbeddingHeadersProvider | null;
    // (undocumented)
    logging?: DataAPILoggingConfig;
    // (undocumented)
    serdes?: TableSerDesConfig<Schema>;
}

// @public
export type TableUpdateManyOptions = GenericUpdateManyOptions;

// @public (undocumented)
export type TableUpdateManyResult<Schema extends SomeRow> = GenericUpdateResult<KeyOf<Schema>, number>;

// @public
export type TableUpdateOneOptions = GenericUpdateOneOptions;

// @public
export type TableUpdateOneResult<Schema extends SomeRow> = GenericUpdateResult<KeyOf<Schema>, 0 | 1>;

// Warning: (ae-forgotten-export) The symbol "Merge" needs to be exported by the entry point index.d.ts
// Warning: (ae-forgotten-export) The symbol "_ToDotNotation" needs to be exported by the entry point index.d.ts
//
// @public
export type ToDotNotation<Schema extends SomeDoc> = Merge<_ToDotNotation<Schema, ''>>;

// @public
export abstract class TokenProvider {
    abstract getToken(): string | nullish | Promise<string | nullish>;
    // @internal
    static parseToken(raw: (string | TokenProvider | nullish)[], field: string): TokenProvider | undefined;
}

// @public
export class TooManyDocumentsToCountError extends DataAPIError {
    // @internal
    constructor(limit: number, hitServerLimit: boolean);
    readonly hitServerLimit: boolean;
    readonly limit: number;
}

// @public
export interface UpdateFilter<Schema extends SomeDoc> {
    $addToSet?: Push<Schema> & SomeDoc;
    $currentDate?: CurrentDate<Schema> & Record<string, boolean>;
    $inc?: NumberUpdate<Schema> & Record<string, number>;
    $max?: (NumberUpdate<Schema> | DateUpdate<Schema>) & Record<string, number | bigint | Date | {
        $date: number;
    }>;
    $min?: (NumberUpdate<Schema> | DateUpdate<Schema>) & Record<string, number | bigint | Date | {
        $date: number;
    }>;
    $mul?: StrictNumberUpdate<Schema> & Record<string, number>;
    $pop?: Pop<Schema> & Record<string, number>;
    $push?: Push<Schema> & SomeDoc;
    $rename?: Record<string, string>;
    $set?: Partial<Schema> & SomeDoc;
    $setOnInsert?: Partial<Schema> & SomeDoc;
    $unset?: Record<string, '' | true | 1>;
}

// @public
export class UpdateManyError extends CumulativeDataAPIError {
    name: string;
    readonly partialResult: CollectionUpdateManyResult<SomeDoc>;
}

// @public
export interface UpsertedUpdateResult<ID> {
    upsertedCount: 1;
    upsertedId: ID;
}

// @public
export class UsernamePasswordTokenProvider extends TokenProvider {
    constructor(username: string, password: string);
    getToken(): string;
}

// @public
export class UUID {
    constructor(uuid: string, validate?: boolean);
    equals(other: unknown): boolean;
    getTimestamp(): Date | undefined;
    // (undocumented)
    toJSON(): {
        $uuid: string;
    };
    toString(): string;
    static v4(): UUID;
    static v7(): UUID;
    readonly version: number;
}

// @public (undocumented)
export interface VectorCreateTableColumnDefinition {
    // (undocumented)
    dimension?: number;
    // (undocumented)
    service?: VectorizeServiceOptions;
    // (undocumented)
    type: 'vector';
    // (undocumented)
    valueType: TableScalarType;
}

// @public
export interface VectorDoc {
    $vector?: number[];
}

// @public
export interface VectorizeDoc {
    $vectorize: string;
}

// @public
export interface VectorizeServiceOptions {
    authentication?: Record<string, string | undefined>;
    modelName: string | nullish;
    parameters?: Record<string, unknown>;
    provider: string;
}

// @public
export type WithId<T> = NoId<T> & {
    _id: IdOf<T>;
};

// @public
export interface WithKeyspace {
    keyspace?: string;
}

// @public
export interface WithTimeout {
    maxTimeMS?: number;
}

// (No @packageDocumentation comment for this package)

```
